@inject PlayerService PlayerService
@inject NavigationManager NavigationManager
@implements IDisposable
@page "/"

@if (PlayerService.CurrentFloor == 101)
{
    NavigationManager.NavigateTo("/GameEnd");
}
else
{
    <MainGame/>
    <div class="row">
        <Upgrades/>
    </div>
}


@code {

    protected override void OnInitialized()
    {
        PlayerService.OnChange += StateHasChanged;
    }

    public void Dispose()
    {
        PlayerService.OnChange -= StateHasChanged;
    }

}
